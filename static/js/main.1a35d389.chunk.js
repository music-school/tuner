(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(26)},26:function(e,n,t){"use strict";t.r(n);var i=t(0),o=t.n(i),a=t(2),r=t.n(a),c=t(8),l=t(1),u=t(11);function s(){var e=Object(c.a)(["\n  ","\n\n  html,\n  body {\n    width: 100%;\n  }\n\n  body {\n    background-color: #303030;\n    font-family: Arial, Helvetica, sans-serif\n  }\n"]);return s=function(){return e},e}var d=Object(l.a)(s(),Object(u.a)()),p=t(6),f=t(12),m=t(14),g=l.b.div.withConfig({displayName:"Wrapper",componentId:"ql59oq-0"})(["margin-top:50px;position:relative;display:flex;width:500px;height:250px;"]),v=l.b.div.withConfig({displayName:"Point",componentId:"sc-5dbmqu-0"})(["position:absolute;height:100%;transform-origin:bottom;width:2px;right:calc(50% - 1px);border-top:","px solid ",";transform:rotate(","deg);"],function(e){return e.isStrong?20:10},function(e){return e.isGreen?"#a9c519":"#b2b2b2"},function(e){return e.angle}),b=l.b.div.withConfig({displayName:"PointValue",componentId:"sc-1qyb3cx-0"})(["position:absolute;top:","px;left:50%;transform:translateX(-50%);color:",";"],function(e){return e.isSmallTopMargin?-35:-45},function(e){return e.isGreen?"#a9c519":"#b2b2b2"}),h=l.b.div.withConfig({displayName:"Pointer",componentId:"rqr7cz-0"})(["position:absolute;height:100%;transform-origin:bottom;width:2px;height:calc(100% - 30px);background-color:#266980;bottom:0;left:50%;transform:translateX(-50%) rotate(","deg);z-index:10;transition:all 0.5s;"],function(e){return e.angle}),w=l.b.div.withConfig({displayName:"Dot",componentId:"sc-1b4zj67-0"})(["position:absolute;width:6px;height:6px;border-radius:50%;background-color:#266980;bottom:-3px;left:50%;transform:translateX(-50%);"]),x=[{angle:-45,value:-50},{angle:-36},{angle:-27,value:-30},{angle:-18},{angle:-9},{angle:0,value:0},{angle:9},{angle:18},{angle:27,value:30},{angle:36},{angle:45,value:50}],y=function(e){var n=e.cents,t=Object(m.a)(e,["cents"]);return o.a.createElement(g,t,o.a.createElement(w,null),o.a.createElement(h,{angle:isNaN(n)?0:.9*n}),x.map(function(e,n){return o.a.createElement(v,{key:e.angle,angle:e.angle,isStrong:[0,Math.ceil((x.length-1)/2),x.length-1].some(function(e){return e===n}),isGreen:9===Math.abs(e.angle)||0===e.angle},o.a.createElement(b,{isSmallTopMargin:30===Math.abs(e.value),isGreen:0===e.value},e.value))}))},A=l.b.div.withConfig({displayName:"AppWrapper",componentId:"j984ft-0"})(["width:100vw;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),C=l.b.div.withConfig({displayName:"Frequency",componentId:"sc-1xr7oq4-0"})(["margin-top:15px;color:#fff;font-size:22px;& > span{color:#93ccbf;}"]),E=l.b.div.withConfig({displayName:"NoteWrapper",componentId:"sc-1vld1pt-0"})(["margin-top:50px;display:flex;justify-content:center;align-items:baseline;color:#fff;"]),M=l.b.div.withConfig({displayName:"Note",componentId:"sc-1v21j89-0"})(["font-size:96px;line-height:74px;"]),N=l.b.div.withConfig({displayName:"Octave",componentId:"sc-4mzm90-0"})(["font-size:46px;line-height:40px;"]),j=l.b.button.withConfig({displayName:"Button__ButtonWrapper",componentId:"grv8ac-0"})(["display:flex;justify-content:",";align-items:center;width:100px;height:50px;margin-top:40px;border:0;outline:none;background-color:",";padding:5px;cursor:pointer;border-radius:4px;"],function(e){return e.isActive?"flex-end":"flex-start"},function(e){return e.isActive?"#93ccbf":"#fff"}),I=l.b.div.withConfig({displayName:"Button__ButtonContent",componentId:"grv8ac-1"})(["position:relative;width:40px;height:38px;background:",";border-radius:4px;"],function(e){return e.isActive?"#fff":"#93ccbf"}),k=function(e){var n=e.isActive,t=e.onClick;return o.a.createElement(j,{isActive:n,onClick:t},o.a.createElement(I,{isActive:n}))},S=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],q=function(e){return parseInt(e/12)-1},z=function(e,n){return Math.floor(1200*Math.log(e/function(e){return 440*Math.pow(2,(e-69)/12)}(n))/Math.log(2))},O=window.Aubio,D={note:"A",octave:4,cents:0,frequency:440,isTunerActive:!1},G=null,B=null,P=null;r.a.render(o.a.createElement(o.a.Fragment,null,o.a.createElement(d,null),o.a.createElement(function(){var e=Object(i.useState)(D),n=Object(f.a)(e,2),t=n[0],a=t.note,r=t.octave,c=t.cents,l=t.frequency,u=t.isTunerActive,s=n[1],d=null,m=function(e){var n=d.do(e.inputBuffer.getChannelData(0));if(n){var t=function(e){var n=Math.log(e/440)/Math.log(2)*12;return Math.round(n)+69}(n),i=z(n,t);s(function(e){return Object(p.a)({},e,{note:(o=t,S[o%12]),octave:q(t),frequency:n.toFixed(1),cents:i});var o})}},g=function(){s(D),G&&(G.onaudioprocess=null,G=null),B&&(B=null),P&&P.mediaStream&&P.mediaStream.stop&&P.mediaStream.stop()};Object(i.useEffect)(function(){return void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var n=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;if(!n)throw new Error("getUserMedia is not implemented in this browser");return new Promise(function(t,i){n.call(navigator,e,t,i)})}),function(){g()}},[]);var v=function(){try{B=function(){if(window.AudioContext=window.AudioContext||window.webkitAudioContext,!window.AudioContext)throw new Error("Web Audio API is not supported in this browser");return new window.AudioContext}(),O().then(function(e){d=new e.Pitch("default",2048,1,B.sampleRate),navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){G=B.createScriptProcessor(2048,1,1),P=B.createMediaStreamSource(e);var n=B.createAnalyser();n.fftSize=2048,P.connect(n),n.connect(G),G.connect(B.destination),G.onaudioprocess=m})})}catch(e){alert("Error: "+e.message)}};return o.a.createElement(A,null,o.a.createElement(y,{cents:c}),o.a.createElement(E,null,o.a.createElement(M,null,a),o.a.createElement(N,null,r)),o.a.createElement(C,null,o.a.createElement("span",null,l)," Hz"),o.a.createElement(k,{isActive:u,onClick:u?g:function(){s(function(e){return Object(p.a)({},e,{isTunerActive:!0})}),v()}}))},null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.1a35d389.chunk.js.map